<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            font-size: 14px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button.danger {
            background: #dc3545;
        }
        .test-button.danger:hover {
            background: #c82333;
        }
        .test-button.success {
            background: #28a745;
        }
        .test-button.success:hover {
            background: #218838;
        }
        .log-container {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .header-simulation {
            background: #343a40;
            color: white;
            padding: 10px 20px;
            margin: -20px -20px 20px -20px;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="header-simulation">
            Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù‡ÙŠØ¯Ø± - Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø³ÙŠØ¸Ù‡Ø± ÙÙŠ ÙŠØ³Ø§Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒØ§Ù†
        </div>
        
        <h2>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„</h2>
        
        <div class="test-buttons">
            <button class="test-button" onclick="testShowNotification()">
                ğŸ”„ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            </button>
            
            <button class="test-button danger" onclick="testHideNotification()">
                âŒ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            </button>
            
            <button class="test-button success" onclick="simulateSync()">
                âœ… Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
            </button>
            
            <button class="test-button" onclick="testDelayedHide()">
                â±ï¸ Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø¬Ù„ (3 Ø«ÙˆØ§Ù†)
            </button>

            <button class="test-button" onclick="clearLog()">
                ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„
            </button>
        </div>
        
        <div class="log-container" id="logContainer">
            <div>ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</div>
        </div>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        function showContentLoadingNotification() {
            try {
                log('ğŸ”„ Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰...');
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¥Ø´Ø¹Ø§Ø± Ø³Ø§Ø¨Ù‚ ÙˆØ­Ø°ÙÙ‡
                const existingNotification = document.getElementById('contentLoadingNotification');
                if (existingNotification) {
                    existingNotification.remove();
                    log('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚');
                }
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø± ØµØºÙŠØ± ÙÙŠ ÙŠØ³Ø§Ø± Ø§Ù„Ù‡ÙŠØ¯Ø±
                const notification = document.createElement('div');
                notification.id = 'contentLoadingNotification';
                notification.style.cssText = `
                    position: fixed !important;
                    top: 15px !important;
                    left: 20px !important;
                    background: #17a2b8 !important;
                    color: white !important;
                    padding: 8px 12px !important;
                    border-radius: 6px !important;
                    font-size: 12px !important;
                    font-weight: 500 !important;
                    z-index: 99999 !important;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
                    display: flex !important;
                    align-items: center !important;
                    gap: 6px !important;
                    opacity: 0 !important;
                    transform: translateX(-100%) !important;
                    transition: all 0.3s ease-out !important;
                    max-width: 180px !important;
                    font-family: Arial, sans-serif !important;
                `;
                
                notification.innerHTML = `
                    <span style="display: inline-block; width: 12px; height: 12px; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 1s linear infinite;"></span>
                    Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
                `;
                
                // Ø¥Ø¶Ø§ÙØ© CSS Ù„Ù„Ø¯ÙˆØ±Ø§Ù†
                if (!document.getElementById('loadingSpinCSS')) {
                    const style = document.createElement('style');
                    style.id = 'loadingSpinCSS';
                    style.textContent = `
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    `;
                    document.head.appendChild(style);
                }
                
                document.body.appendChild(notification);
                log('ğŸ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©');
                
                // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¸Ù‡ÙˆØ± Ø§Ù„Ø³Ù„Ø³
                setTimeout(() => {
                    if (notification && notification.parentNode) {
                        notification.style.opacity = '1';
                        notification.style.transform = 'translateX(0)';
                        log('âœ¨ ØªÙ… ØªØ·Ø¨ÙŠÙ‚ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¸Ù‡ÙˆØ±');
                    }
                }, 100);
                
                log('âœ… ØªÙ… Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ ÙŠØ³Ø§Ø± Ø§Ù„Ù‡ÙŠØ¯Ø±');
                
            } catch (error) {
                log('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„: ' + error.message, 'error');
            }
        }

        function hideContentLoadingNotification(delay = 0) {
            try {
                log(`âœ… Ø¥Ø®ÙØ§Ø¡ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø¹Ø¯ ${delay}ms...`);

                // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
                if (window.contentLoadingTimeout) {
                    clearTimeout(window.contentLoadingTimeout);
                    window.contentLoadingTimeout = null;
                    log('â° ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ');
                }

                setTimeout(() => {
                    const notification = document.getElementById('contentLoadingNotification');
                    if (notification && notification.parentNode) {
                        // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„Ø³Ù„Ø³
                        notification.style.opacity = '0';
                        notification.style.transform = 'translateX(-100%)';

                        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ£Ø«ÙŠØ±
                        setTimeout(() => {
                            if (notification && notification.parentNode) {
                                notification.parentNode.removeChild(notification);
                                log('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ù…Ù† Ø§Ù„ØµÙØ­Ø©');
                            }
                        }, 300);

                        log('âœ… ØªÙ… Ø¥Ø®ÙØ§Ø¡ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø³Ù„Ø§Ø³Ø©');
                    } else {
                        log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ù„Ø¥Ø®ÙØ§Ø¦Ù‡');
                    }
                }, delay);

            } catch (error) {
                log('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø®ÙØ§Ø¡ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„: ' + error.message, 'error');
            }
        }

        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function testShowNotification() {
            log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±...');
            showContentLoadingNotification();
        }

        function testHideNotification() {
            log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±Ø§Ù‹...');
            hideContentLoadingNotification();
        }

        function testDelayedHide() {
            log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù...');
            hideContentLoadingNotification(3000);
        }

        function simulateSync() {
            log('ğŸ§ª Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...');
            showContentLoadingNotification();

            setTimeout(() => {
                log('ğŸ”” Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø´Ø¹Ø§Ø± "Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙÙˆØ±ÙŠØ© Ù†Ø´Ø·Ø©"');
                log('â±ï¸ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø³ÙŠØ®ØªÙÙŠ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†Ù Ù…Ù† Ø¸Ù‡ÙˆØ± Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©');
                hideContentLoadingNotification(5000);
            }, 3000);
        }

        function log(message, type = 'info') {
            const logContainer = document.getElementById('logContainer');
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : '#74c0fc';
            
            logContainer.innerHTML += `<div style="color: ${color};">[${timestamp}] ${message}</div>`;
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function clearLog() {
            document.getElementById('logContainer').innerHTML = '<div>ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</div>';
        }

        // Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            log('ğŸš€ ØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
            log('ğŸ’¡ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±" Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙŠØ²Ø©');
        });
    </script>
</body>
</html>
