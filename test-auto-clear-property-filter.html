<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #FF6B6B, #FF8E53);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .test-section {
            padding: 30px;
            border-bottom: 1px solid #eee;
        }

        .test-section:last-child {
            border-bottom: none;
        }

        .test-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-button {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.4);
        }

        .test-button.success {
            background: linear-gradient(135deg, #28a745, #1e7e34);
        }

        .test-button.warning {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
        }

        .test-button.danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
        }

        .test-results {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            min-height: 100px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        .scenario-box {
            background: #e8f4fd;
            border: 1px solid #b8daff;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .scenario-box h4 {
            color: #0066cc;
            margin-bottom: 10px;
        }

        .step-list {
            list-style: none;
            padding: 0;
        }

        .step-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .step-list li:last-child {
            border-bottom: none;
        }

        .step-list li::before {
            content: "ğŸ‘‰ ";
            margin-left: 10px;
        }

        .filter-demo {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 2px solid;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 120px;
            text-align: center;
        }

        .filter-btn.buildings {
            border-color: #007bff;
            color: #007bff;
            background: white;
        }

        .filter-btn.buildings.active {
            background: #007bff;
            color: white;
        }

        .filter-btn.lands {
            border-color: #28a745;
            color: #28a745;
            background: white;
        }

        .filter-btn.lands.active {
            background: #28a745;
            color: white;
        }

        .property-demo {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
        }

        .property-demo.selected {
            background: #d4edda;
            border-color: #c3e6cb;
        }

        .property-demo.removed {
            background: #f8d7da;
            border-color: #f5c6cb;
            text-decoration: line-through;
            opacity: 0.6;
        }

        .status-indicator {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 10px;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-removed {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-magic"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</h1>
            <p>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† ÙÙ„ØªØ± Ø§Ù„Ø¹Ù‚Ø§Ø± ÙŠÙØ²Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ù†ÙˆØ¹ Ø§Ù„ÙÙ„ØªØ± (Ù…Ø¨Ø§Ù†ÙŠ â†” Ø£Ø±Ø§Ø¶ÙŠ)</p>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-info-circle"></i> Ø§Ù„Ù…ÙŠØ²Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h3>
            <p><strong>Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:</strong> Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù‚Ø§Ø± Ù…Ù† ÙØ¦Ø© "Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ" Ø«Ù… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ ÙÙ„ØªØ± "Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ"ØŒ ÙƒØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø± ÙŠØ¨Ù‚Ù‰ Ù…Ø­Ø¯Ø¯Ø§Ù‹ Ø±ØºÙ… Ø¹Ø¯Ù… Ø§Ù†ØªÙ…Ø§Ø¦Ù‡ Ù„Ù„Ø£Ø±Ø§Ø¶ÙŠ.</p>
            <p><strong>Ø§Ù„Ø­Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> ÙŠØªÙ… Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø¹Ù‚Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ù†ÙˆØ¹ Ø§Ù„ÙÙ„ØªØ± Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø± ØºÙŠØ± Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯.</p>
            
            <div class="scenario-box">
                <h4>ğŸ¯ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:</h4>
                <ul class="step-list">
                    <li>Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù‚Ø§Ø± Ù…Ù† Ù†ÙˆØ¹ "Ø­ÙˆØ´" ÙÙŠ ÙÙ„ØªØ± Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ â† Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ â† Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</li>
                    <li>Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù‚Ø§Ø± Ù…Ù† Ù†ÙˆØ¹ "Ø£Ø±Ø¶" ÙÙŠ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ â† Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ ÙÙ„ØªØ± Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ â† Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</li>
                    <li>Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù‚Ø§Ø± Ù…Ù† Ù†ÙˆØ¹ "Ø´Ù‚Ø©" ÙÙŠ ÙÙ„ØªØ± Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ â† Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ â† Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-vial"></i> Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªÙØ§Ø¹Ù„</h3>
            <p>Ù…Ø­Ø§ÙƒØ§Ø© Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù‚Ø§Ø± ÙˆØªØºÙŠÙŠØ± ÙÙ„ØªØ± Ø§Ù„Ù†ÙˆØ¹:</p>
            
            <div class="filter-demo">
                <div class="filter-btn buildings" onclick="simulateFilterChange('buildings')">
                    <i class="fas fa-building"></i> Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ
                </div>
                <div class="filter-btn lands" onclick="simulateFilterChange('lands')">
                    <i class="fas fa-mountain"></i> Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ
                </div>
            </div>

            <div id="propertySelection" style="margin: 20px 0;">
                <h4>Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:</h4>
                <div class="property-demo" onclick="selectProperty('Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø­ÙˆØ§Ø´', 'Ø­ÙˆØ´')">
                    Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø­ÙˆØ§Ø´ (Ù†ÙˆØ¹: Ø­ÙˆØ´)
                </div>
                <div class="property-demo" onclick="selectProperty('Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø´Ù…Ø§Ù„', 'Ø£Ø±Ø¶')">
                    Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø´Ù…Ø§Ù„ (Ù†ÙˆØ¹: Ø£Ø±Ø¶)
                </div>
                <div class="property-demo" onclick="selectProperty('Ø¨Ø±Ø¬ Ø§Ù„Ø³ÙƒÙ†', 'Ø´Ù‚Ø©')">
                    Ø¨Ø±Ø¬ Ø§Ù„Ø³ÙƒÙ† (Ù†ÙˆØ¹: Ø´Ù‚Ø©)
                </div>
            </div>

            <div class="test-results" id="simulationResults"></div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-play"></i> Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ</h3>
            <p>ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª:</p>
            <button class="test-button" onclick="runAutomaticTest()">
                <i class="fas fa-robot"></i> ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            </button>
            <div class="test-results" id="automaticTestResults"></div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-tools"></i> Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
            <button class="test-button success" onclick="openMainApp()">
                <i class="fas fa-external-link-alt"></i> ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
            </button>
            <button class="test-button warning" onclick="clearResults()">
                <i class="fas fa-broom"></i> Ù…Ø³Ø­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            </button>
            <button class="test-button danger" onclick="resetSimulation()">
                <i class="fas fa-undo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©
            </button>
        </div>
    </div>

    <script>
        // Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©
        let simulationState = {
            currentFilter: null,
            selectedProperty: null,
            selectedPropertyType: null
        };

        // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        const testProperties = [
            { name: 'Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø­ÙˆØ§Ø´', type: 'Ø­ÙˆØ´' },
            { name: 'Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø´Ù…Ø§Ù„', type: 'Ø£Ø±Ø¶' },
            { name: 'Ø¨Ø±Ø¬ Ø§Ù„Ø³ÙƒÙ†', type: 'Ø´Ù‚Ø©' },
            { name: 'Ù…Ø¬Ù…Ø¹ Ø§Ù„Ù…ÙƒØ§ØªØ¨', type: 'Ù…ÙƒØªØ¨' },
            { name: 'Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø¬Ù†ÙˆØ¨', type: 'Ø£Ø±Ø¶' }
        ];

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚
        function isPropertyCompatibleWithTypeFilter(propertyType, filterType) {
            if (!propertyType) return true;
            
            const isLandType = propertyType === 'Ø£Ø±Ø¶';
            
            if (filterType === 'lands') {
                return isLandType;
            } else if (filterType === 'buildings') {
                return !isLandType;
            }
            
            return true;
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù‚Ø§Ø±
        function selectProperty(propertyName, propertyType) {
            simulationState.selectedProperty = propertyName;
            simulationState.selectedPropertyType = propertyType;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            updatePropertyDisplay();
            
            const resultsDiv = document.getElementById('simulationResults');
            resultsDiv.textContent = `âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±: ${propertyName} (Ù†ÙˆØ¹: ${propertyType})`;
        }

        // ØªØºÙŠÙŠØ± ÙÙ„ØªØ± Ø§Ù„Ù†ÙˆØ¹
        function simulateFilterChange(filterType) {
            const resultsDiv = document.getElementById('simulationResults');
            let output = '';
            
            output += `ğŸ”„ ØªØºÙŠÙŠØ± ÙÙ„ØªØ± Ø§Ù„Ù†ÙˆØ¹ Ø¥Ù„Ù‰: ${filterType === 'buildings' ? 'Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ' : 'Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ'}\n\n`;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚
            if (simulationState.selectedProperty && simulationState.selectedPropertyType) {
                const isCompatible = isPropertyCompatibleWithTypeFilter(simulationState.selectedPropertyType, filterType);
                
                output += `ğŸ” ÙØ­Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚:\n`;
                output += `   Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯: ${simulationState.selectedProperty}\n`;
                output += `   Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±: ${simulationState.selectedPropertyType}\n`;
                output += `   Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯: ${filterType === 'buildings' ? 'Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ' : 'Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ'}\n`;
                output += `   Ù…ØªÙˆØ§ÙÙ‚: ${isCompatible ? 'Ù†Ø¹Ù… âœ…' : 'Ù„Ø§ âŒ'}\n\n`;
                
                if (!isCompatible) {
                    output += `âš ï¸ Ø§Ù„Ø¹Ù‚Ø§Ø± ØºÙŠØ± Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯\n`;
                    output += `ğŸ”„ Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø¹Ù‚Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹...\n`;
                    
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
                    simulationState.selectedProperty = null;
                    simulationState.selectedPropertyType = null;
                    
                    output += `âœ… ØªÙ… Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø¹Ù‚Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n`;
                } else {
                    output += `âœ… Ø§Ù„Ø¹Ù‚Ø§Ø± Ù…ØªÙˆØ§ÙÙ‚ - ÙŠØ¨Ù‚Ù‰ Ù…Ø­Ø¯Ø¯Ø§Ù‹\n`;
                }
            } else {
                output += `â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø§Ø± Ù…Ø­Ø¯Ø¯\n`;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
            simulationState.currentFilter = filterType;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            updateFilterDisplay();
            updatePropertyDisplay();
            
            resultsDiv.textContent = output;
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„ÙÙ„Ø§ØªØ±
        function updateFilterDisplay() {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            
            if (simulationState.currentFilter) {
                const activeBtn = document.querySelector(`.filter-btn.${simulationState.currentFilter}`);
                if (activeBtn) {
                    activeBtn.classList.add('active');
                }
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
        function updatePropertyDisplay() {
            document.querySelectorAll('.property-demo').forEach(property => {
                property.classList.remove('selected', 'removed');
                
                const propertyName = property.textContent.split(' (')[0];
                
                if (simulationState.selectedProperty === propertyName) {
                    property.classList.add('selected');
                }
            });
        }

        // Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ
        function runAutomaticTest() {
            const resultsDiv = document.getElementById('automaticTestResults');
            let output = '';
            
            output += 'ğŸ¤– Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ...\n\n';
            
            const testScenarios = [
                { property: 'Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø­ÙˆØ§Ø´', type: 'Ø­ÙˆØ´', fromFilter: 'buildings', toFilter: 'lands', shouldRemove: true },
                { property: 'Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø´Ù…Ø§Ù„', type: 'Ø£Ø±Ø¶', fromFilter: 'lands', toFilter: 'buildings', shouldRemove: true },
                { property: 'Ø¨Ø±Ø¬ Ø§Ù„Ø³ÙƒÙ†', type: 'Ø´Ù‚Ø©', fromFilter: 'buildings', toFilter: 'lands', shouldRemove: true },
                { property: 'Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø­ÙˆØ§Ø´', type: 'Ø­ÙˆØ´', fromFilter: 'buildings', toFilter: 'buildings', shouldRemove: false }
            ];
            
            testScenarios.forEach((scenario, index) => {
                output += `ğŸ“‹ Ø§Ø®ØªØ¨Ø§Ø± ${index + 1}: ${scenario.property} (${scenario.type})\n`;
                output += `   Ù…Ù† ÙÙ„ØªØ±: ${scenario.fromFilter === 'buildings' ? 'Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ' : 'Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ'}\n`;
                output += `   Ø¥Ù„Ù‰ ÙÙ„ØªØ±: ${scenario.toFilter === 'buildings' ? 'Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ' : 'Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ'}\n`;
                
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                const isCompatible = isPropertyCompatibleWithTypeFilter(scenario.type, scenario.toFilter);
                const willRemove = !isCompatible;
                
                output += `   Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©: ${scenario.shouldRemove ? 'Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±' : 'Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¹Ù‚Ø§Ø±'}\n`;
                output += `   Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©: ${willRemove ? 'Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±' : 'Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¹Ù‚Ø§Ø±'}\n`;
                
                if (willRemove === scenario.shouldRemove) {
                    output += `   âœ… Ù†Ø¬Ø­ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±\n\n`;
                } else {
                    output += `   âŒ ÙØ´Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±\n\n`;
                }
            });
            
            output += 'ğŸ‰ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ';
            resultsDiv.textContent = output;
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©
        function resetSimulation() {
            simulationState = {
                currentFilter: null,
                selectedProperty: null,
                selectedPropertyType: null
            };
            
            updateFilterDisplay();
            updatePropertyDisplay();
            
            document.getElementById('simulationResults').textContent = 'ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©';
        }

        // Ù…Ø³Ø­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function clearResults() {
            document.getElementById('simulationResults').textContent = '';
            document.getElementById('automaticTestResults').textContent = '';
        }

        // ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        function openMainApp() {
            window.open('index.html', '_blank');
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('simulationResults').textContent = 'ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ø®ØªØ± Ø¹Ù‚Ø§Ø± Ø«Ù… ØºÙŠÙ‘Ø± ÙÙ„ØªØ± Ø§Ù„Ù†ÙˆØ¹ Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù…ÙŠØ²Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ø§Ù„Ø¹Ù…Ù„';
            }, 1000);
        });
    </script>
</body>
</html>
