<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©</title>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            margin: 20px;
            background: #f8f9fa;
            direction: rtl;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .success {
            color: #28a745;
            font-weight: bold;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        .info {
            color: #17a2b8;
            font-weight: bold;
        }
        .warning {
            color: #ffc107;
            font-weight: bold;
        }
        .status-display {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
        }
        .admin-only-omar {
            display: none !important;
        }
        body.user-omar .admin-only-omar {
            display: block !important;
        }
        .demo-dropdown {
            background: #343a40;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .dropdown-item {
            padding: 8px 12px;
            margin: 2px 0;
            background: #495057;
            border-radius: 3px;
            cursor: pointer;
        }
        .dropdown-item:hover {
            background: #6c757d;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”’ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©</h1>
        
        <div class="test-section">
            <h3>ğŸ“‹ ÙˆØµÙ Ø§Ù„Ù…ÙŠØ²Ø©</h3>
            <p><strong>Ø§Ù„Ù‡Ø¯Ù:</strong> Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© Ø¹Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ø¯Ø§ "Ø¹Ù…Ø±".</p>
            <p><strong>Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø®ÙÙŠØ©:</strong></p>
            <ul>
                <li>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØªØ¨Ø¹</li>
                <li>ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù…Ø§ÙŠØ©</li>
                <li>â›” Ø¥ÙŠÙ‚Ø§Ù Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ©</li>
                <li>ğŸ› Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯Ø§Ù„Ø©</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
            
            <button class="test-button" onclick="testCurrentUser()">ğŸ‘¤ ÙØ­Øµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ</button>
            <button class="test-button" onclick="simulateOmarLogin()">ğŸ”‘ Ù…Ø­Ø§ÙƒØ§Ø© Ø¯Ø®ÙˆÙ„ Ø¹Ù…Ø±</button>
            <button class="test-button" onclick="simulateOtherUserLogin()">ğŸ‘¥ Ù…Ø­Ø§ÙƒØ§Ø© Ø¯Ø®ÙˆÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø±</button>
            <button class="test-button" onclick="testButtonVisibility()">ğŸ‘ï¸ ÙØ­Øµ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø£Ø²Ø±Ø§Ø±</button>
            <button class="test-button" onclick="openMainApp()">ğŸ  ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</button>
            
            <div id="testResults"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
            <div id="systemStatus" class="status-display">Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…...</div>
            <button class="test-button" onclick="refreshSystemStatus()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©</button>
        </div>

        <div class="test-section">
            <h3>ğŸ¯ Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©</h3>
            <div class="demo-dropdown">
                <div style="font-weight: bold; margin-bottom: 10px;">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Ù…Ø­Ø§ÙƒØ§Ø©)</div>
                
                <div class="dropdown-item">
                    <i class="fas fa-calendar-check"></i>
                    ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ® (Ù…Ø±Ø¦ÙŠ Ù„Ù„Ø¬Ù…ÙŠØ¹)
                </div>
                
                <div class="dropdown-item admin-only-omar">
                    <i class="fas fa-vial"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØªØ¨Ø¹ (Ø¹Ù…Ø± ÙÙ‚Ø·)
                </div>
                
                <div class="dropdown-item admin-only-omar">
                    <i class="fas fa-refresh"></i>
                    Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù…Ø§ÙŠØ© (Ø¹Ù…Ø± ÙÙ‚Ø·)
                </div>
                
                <div class="dropdown-item admin-only-omar">
                    <i class="fas fa-stop"></i>
                    Ø¥ÙŠÙ‚Ø§Ù Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© (Ø¹Ù…Ø± ÙÙ‚Ø·)
                </div>
                
                <div class="dropdown-item admin-only-omar">
                    <i class="fas fa-bug"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯Ø§Ù„Ø© (Ø¹Ù…Ø± ÙÙ‚Ø·)
                </div>
                
                <div class="dropdown-item">
                    <i class="fas fa-file-import"></i>
                    Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª (Ù…Ø±Ø¦ÙŠ Ù„Ù„Ø¬Ù…ÙŠØ¹)
                </div>
            </div>
            
            <button class="test-button" onclick="toggleOmarMode()">ğŸ”„ ØªØ¨Ø¯ÙŠÙ„ ÙˆØ¶Ø¹ Ø¹Ù…Ø±</button>
        </div>

        <div class="test-section">
            <h3>ğŸ“ Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
            <ol>
                <li>Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯</li>
                <li>Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± "Ø¹Ù…Ø±" (Ù…Ø«Ù„: Ù…Ø³Ø§Ø¹Ø¯ØŒ Ù…Ø­Ø¯ÙˆØ¯)</li>
                <li>Ø§ÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª - ÙŠØ¬Ø¨ Ø£Ù„Ø§ ØªØ±Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©</li>
                <li>Ø³Ø¬Ù„ Ø®Ø±ÙˆØ¬ ÙˆØ§Ø¯Ø®Ù„ Ø¨Ø§Ø³Ù… "Ø¹Ù…Ø±"</li>
                <li>Ø§ÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª - ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±</li>
            </ol>
        </div>
    </div>

    <script>
        function log(message, type = 'info') {
            const results = document.getElementById('testResults');
            const div = document.createElement('div');
            div.className = type;
            div.textContent = `${new Date().toLocaleTimeString()} - ${message}`;
            results.appendChild(div);
            results.scrollTop = results.scrollHeight;
        }

        function testCurrentUser() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                try {
                    const userData = JSON.parse(savedUser);
                    log(`ğŸ‘¤ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­ÙÙˆØ¸: ${userData.username}`, 'success');
                    
                    if (userData.username === 'Ø¹Ù…Ø±') {
                        log('ğŸ”§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ø¹Ù…Ø± - ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±', 'success');
                    } else {
                        log('ğŸ”’ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„ÙŠØ³ Ø¹Ù…Ø± - ÙŠØ¬Ø¨ Ø£Ù† ØªØ®ØªÙÙŠ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±', 'info');
                    }
                } catch (error) {
                    log('âŒ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', 'error');
                }
            } else {
                log('ğŸ‘¤ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­ÙÙˆØ¸', 'warning');
            }
        }

        function simulateOmarLogin() {
            const userData = {
                username: 'Ø¹Ù…Ø±',
                loginTime: new Date().toISOString()
            };
            localStorage.setItem('currentUser', JSON.stringify(userData));
            document.body.classList.add('user-omar');
            log('âœ… ØªÙ… Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¹Ù…Ø±', 'success');
            log('ğŸ”§ ØªÙ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø¹Ù…Ø± - ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø®ÙÙŠØ© Ø£Ø¹Ù„Ø§Ù‡', 'info');
        }

        function simulateOtherUserLogin() {
            const userData = {
                username: 'Ù…Ø³Ø§Ø¹Ø¯',
                loginTime: new Date().toISOString()
            };
            localStorage.setItem('currentUser', JSON.stringify(userData));
            document.body.classList.remove('user-omar');
            log('âœ… ØªÙ… Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø±', 'success');
            log('ğŸ”’ ØªÙ… Ø¥Ù„ØºØ§Ø¡ ÙˆØ¶Ø¹ Ø¹Ù…Ø± - ÙŠØ¬Ø¨ Ø£Ù† ØªØ®ØªÙÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø®ÙÙŠØ© Ø£Ø¹Ù„Ø§Ù‡', 'info');
        }

        function testButtonVisibility() {
            const adminButtons = document.querySelectorAll('.admin-only-omar');
            const isOmarMode = document.body.classList.contains('user-omar');
            
            log(`ğŸ” ÙØ­Øµ Ø¸Ù‡ÙˆØ± ${adminButtons.length} Ø²Ø± Ù…Ø®ØµØµ Ù„Ø¹Ù…Ø±...`, 'info');
            
            if (isOmarMode) {
                log('âœ… ÙˆØ¶Ø¹ Ø¹Ù…Ø± Ù…ÙØ¹Ù„ - ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø§Ù„Ø£Ø²Ø±Ø§Ø±', 'success');
            } else {
                log('ğŸ”’ ÙˆØ¶Ø¹ Ø¹Ù…Ø± ØºÙŠØ± Ù…ÙØ¹Ù„ - ÙŠØ¬Ø¨ Ø£Ù† ØªØ®ØªÙÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø±', 'warning');
            }
            
            adminButtons.forEach((button, index) => {
                const isVisible = window.getComputedStyle(button).display !== 'none';
                const shouldBeVisible = isOmarMode;
                
                if (isVisible === shouldBeVisible) {
                    log(`âœ… Ø§Ù„Ø²Ø± ${index + 1}: Ø­Ø§Ù„Ø© Ø§Ù„Ø¸Ù‡ÙˆØ± ØµØ­ÙŠØ­Ø©`, 'success');
                } else {
                    log(`âŒ Ø§Ù„Ø²Ø± ${index + 1}: Ø­Ø§Ù„Ø© Ø§Ù„Ø¸Ù‡ÙˆØ± Ø®Ø§Ø·Ø¦Ø©`, 'error');
                }
            });
        }

        function openMainApp() {
            window.open('index.html', '_blank');
            log('ğŸ  ØªÙ… ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯', 'info');
        }

        function refreshSystemStatus() {
            const statusDiv = document.getElementById('systemStatus');
            const savedUser = localStorage.getItem('currentUser');
            const isOmarMode = document.body.classList.contains('user-omar');
            
            let status = '';
            status += `ğŸ“… Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ: ${new Date().toLocaleString()}\n`;
            status += `ğŸ‘¤ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­ÙÙˆØ¸: ${savedUser ? 'âœ…' : 'âŒ'}\n`;
            
            if (savedUser) {
                try {
                    const userData = JSON.parse(savedUser);
                    status += `ğŸ“ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userData.username}\n`;
                    status += `ğŸ”§ ÙˆØ¶Ø¹ Ø¹Ù…Ø±: ${userData.username === 'Ø¹Ù…Ø±' ? 'âœ…' : 'âŒ'}\n`;
                } catch (error) {
                    status += `âŒ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n`;
                }
            }
            
            status += `ğŸ¯ ÙƒÙ„Ø§Ø³ user-omar: ${isOmarMode ? 'âœ…' : 'âŒ'}\n`;
            status += `ğŸ‘ï¸ Ø£Ø²Ø±Ø§Ø± Ø¹Ù…Ø± Ù…Ø±Ø¦ÙŠØ©: ${isOmarMode ? 'âœ…' : 'âŒ'}\n`;
            
            statusDiv.textContent = status;
        }

        function toggleOmarMode() {
            const isCurrentlyOmar = document.body.classList.contains('user-omar');
            
            if (isCurrentlyOmar) {
                simulateOtherUserLogin();
            } else {
                simulateOmarLogin();
            }
            
            refreshSystemStatus();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ ØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±', 'success');
            refreshSystemStatus();
            testCurrentUser();
        });
    </script>
</body>
</html>
