<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù†Øµ Ø§Ù„Ø¨Ø­Ø« Ù„ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .test-section {
            padding: 30px;
            border-bottom: 1px solid #eee;
        }

        .test-section:last-child {
            border-bottom: none;
        }

        .test-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-button {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .test-button.secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
        }

        .test-button.warning {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
        }

        .test-button.danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
        }

        .comparison-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .demo-card {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .demo-card.before {
            border-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        }

        .demo-card.after {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }

        .demo-card h4 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .demo-card.before h4 {
            color: #721c24;
        }

        .demo-card.after h4 {
            color: #155724;
        }

        .search-demo {
            background: #e8f4fd;
            border: 1px solid #b8daff;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .search-demo h4 {
            color: #0066cc;
            margin-bottom: 15px;
        }

        .search-input-demo {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
        }

        .search-input-demo:focus {
            outline: none;
            border-color: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }

        .search-input-demo.active {
            border-color: #28a745;
            background: #d4edda;
        }

        .filter-result {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
        }

        .filter-result.active {
            border-color: #28a745;
            background: #d4edda;
        }

        .step-by-step {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .step-by-step h4 {
            color: #856404;
            margin-bottom: 15px;
        }

        .step {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 6px;
            border: 1px solid #ffeaa7;
        }

        .step-number {
            background: #ffc107;
            color: #212529;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .benefits-list {
            list-style: none;
            padding: 0;
        }

        .benefits-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .benefits-list li::before {
            content: "âœ…";
            font-size: 1.2rem;
        }

        .problems-list {
            list-style: none;
            padding: 0;
        }

        .problems-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .problems-list li::before {
            content: "âŒ";
            font-size: 1.2rem;
        }

        .code-example {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .comparison-demo {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-search"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù†Øµ Ø§Ù„Ø¨Ø­Ø« Ù„ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±</h1>
            <p>Ø§Ù„Ù†Øµ ÙŠØ¨Ù‚Ù‰ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« Ø­ØªÙ‰ ÙŠØ­Ø°ÙÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†ÙØ³Ù‡</p>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-info-circle"></i> Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙŠØ¯</h3>
            <p><strong>Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:</strong> Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ¨Ø­Ø« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù† "Ø£Ø±Ø¶" ÙˆÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ù‚Ù‰ Ø§Ù„Ù†Øµ "Ø£Ø±Ø¶" Ù…ÙƒØªÙˆØ¨ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« Ø­ØªÙ‰ ÙŠØ­Ø°ÙÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†ÙØ³Ù‡.</p>
            
            <div class="comparison-demo">
                <div class="demo-card before">
                    <h4><i class="fas fa-times-circle"></i> Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚</h4>
                    <div style="margin: 15px 0;">
                        <input type="text" class="search-input-demo" value="" placeholder="Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« ÙØ§Ø±Øº Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚" readonly>
                        <div style="margin-top: 10px; color: #721c24; font-weight: bold;">
                            âœ… ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ù…Ø·Ø¨Ù‚<br>
                            âŒ Ø§Ù„Ù†Øµ Ø§Ø®ØªÙÙ‰ Ù…Ù† Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
                        </div>
                    </div>
                    <ul class="problems-list">
                        <li>Ø§Ù„Ù†Øµ ÙŠØ®ØªÙÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</li>
                        <li>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø§ ÙŠØ¹Ø±Ù Ø³Ø¨Ø¨ Ø§Ù„ÙÙ„ØªØ±</li>
                        <li>ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙ„ØªØ±</li>
                    </ul>
                </div>
                
                <div class="demo-card after">
                    <h4><i class="fas fa-check-circle"></i> Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯</h4>
                    <div style="margin: 15px 0;">
                        <input type="text" class="search-input-demo active" value="Ø£Ø±Ø¶" readonly>
                        <div style="margin-top: 10px; color: #155724; font-weight: bold;">
                            âœ… ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ù…Ø·Ø¨Ù‚<br>
                            âœ… Ø§Ù„Ù†Øµ Ø¨Ø§Ù‚ÙŠ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
                        </div>
                    </div>
                    <ul class="benefits-list">
                        <li>Ø§Ù„Ù†Øµ ÙŠØ¨Ù‚Ù‰ Ù…Ø±Ø¦ÙŠØ§Ù‹</li>
                        <li>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¹Ø±Ù Ø³Ø¨Ø¨ Ø§Ù„ÙÙ„ØªØ±</li>
                        <li>Ø³Ù‡ÙˆÙ„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙ„ØªØ± Ø¨Ø­Ø°Ù Ø§Ù„Ù†Øµ</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-list-ol"></i> Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
            
            <div class="step-by-step">
                <h4>ÙƒÙŠÙÙŠØ© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙŠØ²Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</h4>
                
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</strong><br>
                        Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± "ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ" Ø£Ø¯Ù†Ø§Ù‡
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Ø§Ø¨Ø­Ø« Ø¹Ù† "Ø£Ø±Ø¶"</strong><br>
                        Ø§ÙƒØªØ¨ "Ø£Ø±Ø¶" ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù… ÙˆØ§Ø¶ØºØ· Enter
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†ØªÙŠØ¬Ø©</strong><br>
                        ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰: ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ù…Ø·Ø¨Ù‚ + Ø§Ù„Ù†Øµ "Ø£Ø±Ø¶" Ø¨Ø§Ù‚ÙŠ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø­Ø°Ù</strong><br>
                        Ø§Ø­Ø°Ù Ø§Ù„Ù†Øµ "Ø£Ø±Ø¶" Ù…Ù† Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« - ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ… Ø¥Ù„ØºØ§Ø¡ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <strong>Ø¬Ø±Ø¨ ÙƒÙ„Ù…Ø§Øª Ø£Ø®Ø±Ù‰</strong><br>
                        Ø§Ø®ØªØ¨Ø±: "Ø£Ø±Ø§Ø¶ÙŠ"ØŒ "Ø§Ø±Ø§Ø¶ÙŠ"ØŒ "Ù…Ø¨Ø§Ù†ÙŠ"ØŒ "Ù…Ø¨Ù†Ù‰"
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-vial"></i> Ù…Ø­Ø§ÙƒØ§Ø© ØªÙØ§Ø¹Ù„ÙŠØ©</h3>
            <p>Ø¬Ø±Ø¨ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©:</p>
            
            <div class="search-demo">
                <h4>Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«:</h4>
                <input type="text" class="search-input-demo" id="searchDemo" placeholder="Ø§ÙƒØªØ¨: Ø£Ø±Ø¶ØŒ Ø£Ø±Ø§Ø¶ÙŠØŒ Ù…Ø¨Ø§Ù†ÙŠ..." oninput="simulateSearch(this.value)">
                
                <div class="filter-result" id="filterResult">
                    <strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> Ø§ÙƒØªØ¨ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                </div>
                
                <button class="test-button secondary" onclick="clearDemo()" style="margin-top: 10px;">
                    <i class="fas fa-eraser"></i> Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©
                </button>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-code"></i> Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©</h3>
            
            <h4>Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©:</h4>
            
            <div class="code-example">
<span class="highlight">// Ø¥Ø¶Ø§ÙØ© Ù…ØªØºÙŠØ± ØªØªØ¨Ø¹</span>
let propertyTypeFilterAppliedFromSearch = false;

<span class="highlight">// ÙÙŠ Ø¯Ø§Ù„Ø© detectAndApplyPropertyTypeFilter:</span>
if (detectedPropertyType) {
    // ØªØ³Ø¬ÙŠÙ„ Ø£Ù† Ø§Ù„ÙÙ„ØªØ± Ù…Ø·Ø¨Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø­Ø«
    propertyTypeFilterAppliedFromSearch = true;
    
    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ±
    filterPropertiesByType(detectedPropertyType);
    
    // <span class="highlight">Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù†Øµ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«</span>
    searchState.global = searchTerm;
    searchState.isSearchActive = true;
}
            </div>
            
            <div class="code-example">
<span class="highlight">// ÙÙŠ Ø¯Ø§Ù„Ø© clearGlobalSearchOnly:</span>
if (propertyTypeFilterAppliedFromSearch) {
    console.log('ğŸ§¹ Ù…Ø³Ø­ ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø± Ù„Ø£Ù†Ù‡ ÙƒØ§Ù† Ù…Ø·Ø¨Ù‚Ø§Ù‹ Ù…Ù† Ø§Ù„Ø¨Ø­Ø«');
    
    // Ù…Ø³Ø­ ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±
    resetPropertyTypeFilter();
    propertyTypeFilterAppliedFromSearch = false;
}
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-tools"></i> Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
            <button class="test-button" onclick="openMainApp()">
                <i class="fas fa-external-link-alt"></i> ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
            </button>
            <button class="test-button warning" onclick="showTestScenarios()">
                <i class="fas fa-list-check"></i> Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            </button>
            <button class="test-button secondary" onclick="showExpectedBehavior()">
                <i class="fas fa-info"></i> Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
            </button>
            <button class="test-button danger" onclick="showTroubleshooting()">
                <i class="fas fa-bug"></i> Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
            </button>
        </div>
    </div>

    <script>
        // Ù…Ø­Ø§ÙƒØ§Ø© Ù‚ÙˆØ§Ù…ÙŠØ³ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
        const PROPERTY_TYPE_KEYWORDS = {
            'lands': ['Ø§Ø±Ø¶', 'Ø£Ø±Ø¶', 'Ø§Ø±Ø§Ø¶ÙŠ', 'Ø£Ø±Ø§Ø¶ÙŠ', 'Ø§Ø±Ø§Ø¶Ù‰', 'Ø£Ø±Ø§Ø¶Ù‰', 'Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ', 'Ø§Ù„Ø§Ø±Ø§Ø¶ÙŠ'],
            'buildings': ['Ù…Ø¨Ø§Ù†ÙŠ', 'Ù…Ø¨Ø§Ù†Ù‰', 'Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ', 'Ø§Ù„Ù…Ø¨Ø§Ù†Ù‰', 'Ù…Ø¨Ù†Ù‰', 'Ù…Ø¨Ù†ÙŠ', 'Ø¨Ù†Ø§Ø¡', 'Ø§Ø¨Ù†ÙŠØ©', 'Ø£Ø¨Ù†ÙŠØ©']
        };

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø¯Ø§Ù„Ø© ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        function normalizeArabicText(text) {
            return text.replace(/[Ø£Ø¥Ø¢]/g, 'Ø§')
                      .replace(/[Ù‰ÙŠ]/g, 'ÙŠ')
                      .replace(/[Ø©]/g, 'Ù‡')
                      .toLowerCase()
                      .trim();
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø¯Ø§Ù„Ø© Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±
        function detectPropertyTypeKeyword(searchTerm) {
            if (!searchTerm || searchTerm.trim() === '') return null;

            const normalizedTerm = normalizeArabicText(searchTerm.trim());

            for (const [propertyType, keywords] of Object.entries(PROPERTY_TYPE_KEYWORDS)) {
                for (const keyword of keywords) {
                    const normalizedKeyword = normalizeArabicText(keyword);
                    if (normalizedTerm === normalizedKeyword) {
                        return propertyType;
                    }
                }
            }

            return null;
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¨Ø­Ø«
        function simulateSearch(searchTerm) {
            const resultDiv = document.getElementById('filterResult');
            const searchInput = document.getElementById('searchDemo');
            
            if (!searchTerm || searchTerm.trim() === '') {
                resultDiv.innerHTML = '<strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> Ø§ÙƒØªØ¨ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©';
                resultDiv.className = 'filter-result';
                searchInput.className = 'search-input-demo';
                return;
            }

            const detectedType = detectPropertyTypeKeyword(searchTerm);
            
            if (detectedType) {
                const filterName = detectedType === 'lands' ? 'Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ' : 'Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ';
                const icon = detectedType === 'lands' ? 'ğŸ—ºï¸' : 'ğŸ—ï¸';
                
                resultDiv.innerHTML = `
                    <strong>âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù ÙƒÙ„Ù…Ø© Ù†ÙˆØ¹ Ø¹Ù‚Ø§Ø±!</strong><br>
                    ${icon} <strong>Ø§Ù„ÙƒÙ„Ù…Ø©:</strong> "${searchTerm}"<br>
                    ğŸ¯ <strong>Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ù…Ø·Ø¨Ù‚:</strong> ${filterName}<br>
                    ğŸ“ <strong>Ø­Ø§Ù„Ø© Ø§Ù„Ù†Øµ:</strong> <span class="highlight">ÙŠØ¨Ù‚Ù‰ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«</span><br>
                    ğŸ’¡ <strong>Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙ„ØªØ±:</strong> Ø§Ø­Ø°Ù Ø§Ù„Ù†Øµ Ù…Ù† Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
                `;
                resultDiv.className = 'filter-result active';
                searchInput.className = 'search-input-demo active';
            } else {
                resultDiv.innerHTML = `
                    <strong>â„¹ï¸ Ø¨Ø­Ø« Ø¹Ø§Ø¯ÙŠ</strong><br>
                    ğŸ” <strong>Ø§Ù„ÙƒÙ„Ù…Ø©:</strong> "${searchTerm}"<br>
                    ğŸ“ <strong>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡:</strong> Ø¨Ø­Ø« Ø¹Ø§Ø¯ÙŠ ÙÙŠ Ø§Ù„Ù†ØµÙˆØµ (Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙÙ„ØªØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ)
                `;
                resultDiv.className = 'filter-result';
                searchInput.className = 'search-input-demo';
            }
        }

        function clearDemo() {
            document.getElementById('searchDemo').value = '';
            simulateSearch('');
        }

        function openMainApp() {
            window.open('index.html', '_blank');
        }

        function showTestScenarios() {
            alert(`ğŸ§ª Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:

1ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:
   â€¢ "Ø£Ø±Ø¶" â†’ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ + Ø§Ù„Ù†Øµ ÙŠØ¨Ù‚Ù‰
   â€¢ "Ø£Ø±Ø§Ø¶ÙŠ" â†’ ÙÙ„ØªØ± Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ + Ø§Ù„Ù†Øµ ÙŠØ¨Ù‚Ù‰
   â€¢ "Ù…Ø¨Ø§Ù†ÙŠ" â†’ ÙÙ„ØªØ± Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ + Ø§Ù„Ù†Øµ ÙŠØ¨Ù‚Ù‰
   â€¢ "Ù…Ø¨Ù†Ù‰" â†’ ÙÙ„ØªØ± Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ + Ø§Ù„Ù†Øµ ÙŠØ¨Ù‚Ù‰

2ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø­Ø°Ù:
   â€¢ Ø¨Ø¹Ø¯ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ±ØŒ Ø§Ø­Ø°Ù Ø§Ù„Ù†Øµ
   â€¢ ÙŠØ¬Ø¨ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙ„ØªØ± ÙˆØ¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª

3ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„:
   â€¢ Ø§Ø¨Ø­Ø« Ø¹Ù† "Ø£Ø±Ø¶" Ø«Ù… "Ù…Ø¨Ø§Ù†ÙŠ"
   â€¢ ÙŠØ¬Ø¨ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ± Ù…Ø¹ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù†Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯

4ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©:
   â€¢ Ø§Ø¨Ø­Ø« Ø¹Ù† "Ø´Ù‚Ø©" Ø£Ùˆ "Ù…Ø­Ù„"
   â€¢ ÙŠØ¬Ø¨ Ø¹Ø¯Ù… ØªØ·Ø¨ÙŠÙ‚ Ø£ÙŠ ÙÙ„ØªØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ`);
        }

        function showExpectedBehavior() {
            alert(`ğŸ“‹ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:

âœ… Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ/Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ:
   1. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ÙÙˆØ±Ø§Ù‹
   2. Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù†Øµ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
   3. Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªÙˆØ¶ÙŠØ­ÙŠØ©
   4. Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙÙ„ØªØ±Ø©

âœ… Ø¹Ù†Ø¯ Ø­Ø°Ù Ø§Ù„Ù†Øµ:
   1. Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ù…Ø·Ø¨Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø­Ø«
   2. Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
   3. Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø³Ø­

âœ… Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙƒÙ„Ù…Ø§Øª Ø¹Ø§Ø¯ÙŠØ©:
   1. Ø¨Ø­Ø« Ø¹Ø§Ø¯ÙŠ ÙÙŠ Ø§Ù„Ù†ØµÙˆØµ
   2. Ø¹Ø¯Ù… ØªØ·Ø¨ÙŠÙ‚ Ø£ÙŠ ÙÙ„ØªØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ
   3. Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©`);
        }

        function showTroubleshooting() {
            alert(`ğŸ”§ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:

âŒ Ø§Ù„Ù†Øµ ÙŠØ®ØªÙÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø­Ø«:
   â€¢ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¯Ø§Ù„Ø© detectAndApplyPropertyTypeFilter
   â€¢ ØªØ£ÙƒØ¯ Ù…Ù† clearSearchField = false
   â€¢ Ø§ÙØ­Øµ searchState.global = searchTerm

âŒ Ø§Ù„ÙÙ„ØªØ± Ù„Ø§ ÙŠØªÙ… Ø¥Ù„ØºØ§Ø¤Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø°Ù:
   â€¢ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¯Ø§Ù„Ø© clearGlobalSearchOnly
   â€¢ ØªØ£ÙƒØ¯ Ù…Ù† propertyTypeFilterAppliedFromSearch
   â€¢ Ø§ÙØ­Øµ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ resetPropertyTypeFilter

âŒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù„Ø§ ØªÙÙƒØªØ´Ù:
   â€¢ ØªØ­Ù‚Ù‚ Ù…Ù† PROPERTY_TYPE_KEYWORDS
   â€¢ Ø§ÙØ­Øµ Ø¯Ø§Ù„Ø© normalizeArabicText
   â€¢ ØªØ£ÙƒØ¯ Ù…Ù† detectPropertyTypeKeyword

ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ø§Ù„ØªØ´Ø®ÙŠØµ:
   â€¢ Ø§ÙØªØ­ Developer Console
   â€¢ Ø§Ø¨Ø­Ø« Ø¹Ù† Ø±Ø³Ø§Ø¦Ù„ console.log
   â€¢ ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙŠÙ… Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª`);
        }
    </script>
</body>
</html>
