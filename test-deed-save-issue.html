<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ูุดููุฉ ุญูุธ ูุนูููุงุช ุงูุตู</title>
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 1200px;
            margin: 0 auto;
        }
        .result {
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
            background: #f8f9fa;
        }
        .success { border-left-color: #28a745; background: #d4edda; }
        .error { border-left-color: #dc3545; background: #f8d7da; }
        .warning { border-left-color: #ffc107; background: #fff3cd; }
        .info { border-left-color: #17a2b8; background: #d1ecf1; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .test-section h3 {
            margin-top: 0;
            color: #333;
        }
        .property-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .property-card h4 {
            margin: 0 0 15px 0;
            color: #007bff;
        }
        .property-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .info-group {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 3px solid #007bff;
        }
        .info-group h5 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        .info-item {
            margin: 5px 0;
            font-size: 14px;
        }
        .info-item strong {
            color: #007bff;
        }
        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .before, .after {
            padding: 15px;
            border-radius: 8px;
        }
        .before {
            background: #fff3cd;
            border: 1px solid #ffc107;
        }
        .after {
            background: #d4edda;
            border: 1px solid #28a745;
        }
        .steps {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        .step {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .step-number {
            background: #007bff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-weight: bold;
        }
        .highlight {
            background: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
        .console-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>๐ ุงุฎุชุจุงุฑ ูุดููุฉ ุญูุธ ูุนูููุงุช ุงูุตู</h1>
        <p>ูุฐุง ุงูุงุฎุชุจุงุฑ ูุดุฎุต ูุดููุฉ ุนุฏู ุญูุธ ุชุบููุฑุงุช ูุนูููุงุช ุงูุตู ููุนูุงุฑุงุช ุงูุชู ุชุญุชูู ุนูู ุจูุงูุงุช ุงูุชุฑุงุถูุฉ</p>
        
        <div class="test-section">
            <h3>๐ ูุตู ุงููุดููุฉ</h3>
            <div class="property-info">
                <div class="info-group">
                    <h5>๐ซ ุงูุนูุงุฑุงุช ุงููุชุฃุซุฑุฉ</h5>
                    <div class="info-item">โข ุงูุนูุงุฑุงุช ุงูุชู ุชุญุชูู ุนูู ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ูุณุจูุฉ</div>
                    <div class="info-item">โข ูุซุงู: "ูุณุชูุฏุนุงุช ุงูุณุนูุฏ"</div>
                    <div class="info-item">โข ุงูุญููู: ุฑูู ุงูุตูุ ูุณุงุญุฉ ุงูุตูุ ุงููุงููุ ุฅูุฎ</div>
                </div>
                <div class="info-group">
                    <h5>โ ุงูุนูุงุฑุงุช ุงูุชู ุชุนูู</h5>
                    <div class="info-item">โข ุงูุนูุงุฑุงุช ุจุฏูู ุจูุงูุงุช ุงูุชุฑุงุถูุฉ</div>
                    <div class="info-item">โข ุงูุญููู ูุงุฑุบุฉ ุฃู null</div>
                    <div class="info-item">โข ูููู ุชุญุฑูุฑ ูุญูุธ ูุนูููุงุช ุงูุตู ุจุณูููุฉ</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>๐งช ุงุฎุชุจุงุฑ ุชุดุฎูุตู</h3>
            <button onclick="createTestProperties()" style="background: #28a745; font-size: 16px; padding: 15px 30px;">
                <i class="fas fa-plus"></i> ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ
            </button>
            <button onclick="testDeedSaveIssue()" style="background: #dc3545; font-size: 16px; padding: 15px 30px;">
                <i class="fas fa-bug"></i> ุงุฎุชุจุงุฑ ูุดููุฉ ุงูุญูุธ
            </button>
            <button onclick="testReplacementLogic()" style="background: #007bff; font-size: 16px; padding: 15px 30px;">
                <i class="fas fa-sync-alt"></i> ุงุฎุชุจุงุฑ ููุทู ุงูุงุณุชุจุฏุงู
            </button>
            <button onclick="clearConsole()" style="background: #6c757d;">
                <i class="fas fa-trash"></i> ูุณุญ ุงูุณุฌู
            </button>
        </div>

        <div class="test-section">
            <h3>๐ฏ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ุงููุฏูู</h3>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div>ุงุถุบุท <span class="highlight">"ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ"</span> ูุฅูุดุงุก ุนูุงุฑูู ููููุงุฑูุฉ</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div>ุงุฐูุจ ุฅูู "ุนุฑุถ ุงูุจูุงูุงุช" ูุงุจุญุซ ุนู <span class="highlight">"ูุณุชูุฏุนุงุช ุงูุณุนูุฏ"</span></div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div>ุงุถุบุท ุฒุฑ <span class="highlight">"ุชุญุฑูุฑ"</span> (ุงูุฃุตูุฑ) ูุฃู ูุญุฏุฉ</div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div>ูู ูุณู "ูุนูููุงุช ุงูุนูุงุฑ ูุงูุตู"ุ ุบููุฑ <span class="highlight">ูุณุงุญุฉ ุงูุตู</span> ูู 2000 ุฅูู 2500</div>
                </div>
                <div class="step">
                    <div class="step-number">5</div>
                    <div>ุงุญูุธ ุงูุชุบููุฑุงุช ูุงูุชุญ <span class="highlight">Console</span> (F12) ููุฑุงูุจุฉ ุงูุณุฌูุงุช</div>
                </div>
                <div class="step">
                    <div class="step-number">6</div>
                    <div>ุชุญูู ูู ุญูุธ ุงูุชุบููุฑุงุช ุจุฅุนุงุฏุฉ ูุชุญ ูุงูุฐุฉ ุงูุชุญุฑูุฑ</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>๐ ููุงุฑูุฉ ุงูุนูุงุฑุงุช</h3>
            <div id="propertiesComparison"></div>
        </div>

        <div class="test-section">
            <h3>๐ฅ๏ธ ุณุฌู ูุญุฏุฉ ุงูุชุญูู</h3>
            <p>ุฑุงูุจ ูุฐุง ุงูุณุฌู ุฃุซูุงุก ุชุญุฑูุฑ ูุนูููุงุช ุงูุตู:</p>
            <div id="consoleOutput" class="console-output">
                ุงูุชุธุงุฑ ุจุฏุก ุงูุงุฎุชุจุงุฑ...
            </div>
        </div>

        <div id="results"></div>
    </div>

    <!-- ุชุญููู ุงูููุชุจุงุช ุงููุทููุจุฉ -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
    <script src="script.js"></script>
    
    <script>
        // ุชุฎุฒูู console.log ุงูุฃุตูู
        const originalConsoleLog = console.log;
        const originalConsoleError = console.error;
        const originalConsoleWarn = console.warn;

        // ุฅุนุงุฏุฉ ุชูุฌูู console.log ุฅูู ุงูุนุฑุถ
        function interceptConsole() {
            const consoleOutput = document.getElementById('consoleOutput');
            
            console.log = function(...args) {
                originalConsoleLog.apply(console, args);
                const message = args.map(arg => 
                    typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
                ).join(' ');
                
                if (message.includes('ูุนุงูุฌุฉ ุญูู ูุนูููุงุช ุงูุตู') || 
                    message.includes('ุงููููุฉ ุงูุฃุตููุฉ') || 
                    message.includes('ุงููููุฉ ุงูุฌุฏูุฏุฉ') || 
                    message.includes('ุงููููุฉ ุงูููุงุฆูุฉ ุงููุญููุธุฉ') ||
                    message.includes('ุญุงูุฉ ุญููู ูุนูููุงุช ุงูุตู')) {
                    
                    const timestamp = new Date().toLocaleTimeString();
                    consoleOutput.innerHTML += `<div style="color: #68d391;">[${timestamp}] ${message}</div>`;
                    consoleOutput.scrollTop = consoleOutput.scrollHeight;
                }
            };
            
            console.error = function(...args) {
                originalConsoleError.apply(console, args);
                const message = args.join(' ');
                const timestamp = new Date().toLocaleTimeString();
                consoleOutput.innerHTML += `<div style="color: #fc8181;">[${timestamp}] ERROR: ${message}</div>`;
                consoleOutput.scrollTop = consoleOutput.scrollHeight;
            };
            
            console.warn = function(...args) {
                originalConsoleWarn.apply(console, args);
                const message = args.join(' ');
                const timestamp = new Date().toLocaleTimeString();
                consoleOutput.innerHTML += `<div style="color: #f6e05e;">[${timestamp}] WARN: ${message}</div>`;
                consoleOutput.scrollTop = consoleOutput.scrollHeight;
            };
        }

        function addResult(type, title, content) {
            const resultsDiv = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = `result ${type}`;
            resultDiv.innerHTML = `
                <strong>${title}</strong><br>
                ${content}
            `;
            resultsDiv.appendChild(resultDiv);
            resultsDiv.scrollTop = resultsDiv.scrollHeight;
        }

        function clearConsole() {
            document.getElementById('consoleOutput').innerHTML = 'ุชู ูุณุญ ุงูุณุฌู...';
        }

        function createTestProperties() {
            addResult('info', '๐ ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ...', 'ุฌุงุฑู ุฅูุดุงุก ุนูุงุฑูู ููููุงุฑูุฉ');
            
            if (!window.properties) window.properties = [];
            
            // ุนูุงุฑ ุจุฏูู ุจูุงูุงุช ุงูุชุฑุงุถูุฉ (ูุนูู ุจุดูู ุทุจูุนู)
            const emptyProperty = {
                'ุฑูู  ุงููุญุฏุฉ ': 'TEST-EMPTY-001',
                'ุงุณู ุงูุนูุงุฑ': 'ุนูุงุฑ ุงุฎุชุจุงุฑ ูุงุฑุบ',
                'ุงููุฏููุฉ': 'ุงูุฑูุงุถ',
                'ุงุณู ุงููุณุชุฃุฌุฑ': 'ูุณุชุฃุฌุฑ ุชุฌุฑูุจู',
                'ุฑูู ุงูุนูุฏ': 'CONTRACT-EMPTY-001',
                'ูููุฉ  ุงูุงูุฌุงุฑ ': 3000,
                'ุงููุณุงุญุฉ': 100,
                'ุฑูู ุงูุตู': '',
                'ูุณุงุญุฉุงูุตู': '',
                'ุงูุณุฌู ุงูุนููู ': '',
                'ุงููุงูู': '',
                'ูููุน ุงูุนูุงุฑ': ''
            };
            
            // ุนูุงุฑ ุจุจูุงูุงุช ุงูุชุฑุงุถูุฉ (ุงููุดููุฉ)
            const prefilledProperty = {
                'ุฑูู  ุงููุญุฏุฉ ': 'TEST-PREFILLED-001',
                'ุงุณู ุงูุนูุงุฑ': 'ูุณุชูุฏุนุงุช ุงูุณุนูุฏ',
                'ุงููุฏููุฉ': 'ุงูุฑูุงุถ',
                'ุงุณู ุงููุณุชุฃุฌุฑ': 'ุดุฑูุฉ ุชุฌุฑูุจูุฉ',
                'ุฑูู ุงูุนูุฏ': 'CONTRACT-PREFILLED-001',
                'ูููุฉ  ุงูุงูุฌุงุฑ ': 5000,
                'ุงููุณุงุญุฉ': 200,
                'ุฑูู ุงูุตู': 'DEED123456789',
                'ูุณุงุญุฉุงูุตู': '2000',
                'ุงูุณุฌู ุงูุนููู ': 'REG987654321',
                'ุงููุงูู': 'ุดุฑูุฉ ุงูุณุนูุฏ ุงูุนูุงุฑูุฉ',
                'ูููุน ุงูุนูุงุฑ': 'https://maps.google.com/test-location'
            };
            
            // ุฅุถุงูุฉ ุฃู ุชุญุฏูุซ ุงูุนูุงุฑุงุช
            [emptyProperty, prefilledProperty].forEach(property => {
                const existingIndex = window.properties.findIndex(p => 
                    p['ุฑูู  ุงููุญุฏุฉ '] === property['ุฑูู  ุงููุญุฏุฉ ']
                );
                
                if (existingIndex === -1) {
                    window.properties.push(property);
                } else {
                    window.properties[existingIndex] = property;
                }
            });
            
            // ุญูุธ ูุญููุงู
            if (typeof saveDataLocally === 'function') {
                saveDataLocally();
            }
            
            // ุนุฑุถ ุงูููุงุฑูุฉ
            displayPropertiesComparison();
            
            addResult('success', 'โ ุชู ุฅูุดุงุก ุงูุนูุงุฑุงุช', `
                ุชู ุฅูุดุงุก ุนูุงุฑูู ููุงุฎุชุจุงุฑ:<br>
                โข <strong>ุนูุงุฑ ุงุฎุชุจุงุฑ ูุงุฑุบ:</strong> ุจุฏูู ุจูุงูุงุช ุงูุชุฑุงุถูุฉ (ูุฌุจ ุฃู ูุนูู)<br>
                โข <strong>ูุณุชูุฏุนุงุช ุงูุณุนูุฏ:</strong> ุจุจูุงูุงุช ุงูุชุฑุงุถูุฉ (ุงููุดููุฉ ุงููุจูุบ ุนููุง)<br><br>
                ููููู ุงูุขู ุงุฎุชุจุงุฑ ุชุญุฑูุฑ ูุนูููุงุช ุงูุตู ูููุง ุงูุนูุงุฑูู
            `);
        }

        function displayPropertiesComparison() {
            const container = document.getElementById('propertiesComparison');
            
            const emptyProperty = window.properties?.find(p => p['ุงุณู ุงูุนูุงุฑ'] === 'ุนูุงุฑ ุงุฎุชุจุงุฑ ูุงุฑุบ');
            const prefilledProperty = window.properties?.find(p => p['ุงุณู ุงูุนูุงุฑ'] === 'ูุณุชูุฏุนุงุช ุงูุณุนูุฏ');
            
            if (!emptyProperty || !prefilledProperty) {
                container.innerHTML = '<p>ุงุถุบุท "ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ" ุฃููุงู</p>';
                return;
            }
            
            container.innerHTML = `
                <div class="before-after">
                    <div class="before">
                        <h5>๐ก ุนูุงุฑ ุงุฎุชุจุงุฑ ูุงุฑุบ (ูุฌุจ ุฃู ูุนูู)</h5>
                        <div class="info-item"><strong>ุฑูู ุงูุตู:</strong> "${emptyProperty['ุฑูู ุงูุตู']}"</div>
                        <div class="info-item"><strong>ูุณุงุญุฉ ุงูุตู:</strong> "${emptyProperty['ูุณุงุญุฉุงูุตู']}"</div>
                        <div class="info-item"><strong>ุงูุณุฌู ุงูุนููู:</strong> "${emptyProperty['ุงูุณุฌู ุงูุนููู ']}"</div>
                        <div class="info-item"><strong>ุงููุงูู:</strong> "${emptyProperty['ุงููุงูู']}"</div>
                        <div class="info-item"><strong>ูููุน ุงูุนูุงุฑ:</strong> "${emptyProperty['ูููุน ุงูุนูุงุฑ']}"</div>
                        <button onclick="testEditProperty('ุนูุงุฑ ุงุฎุชุจุงุฑ ูุงุฑุบ')" style="margin-top: 10px; background: #28a745;">
                            ุชุญุฑูุฑ ูุฐุง ุงูุนูุงุฑ
                        </button>
                    </div>
                    <div class="after">
                        <h5>๐ด ูุณุชูุฏุนุงุช ุงูุณุนูุฏ (ุงููุดููุฉ)</h5>
                        <div class="info-item"><strong>ุฑูู ุงูุตู:</strong> "${prefilledProperty['ุฑูู ุงูุตู']}"</div>
                        <div class="info-item"><strong>ูุณุงุญุฉ ุงูุตู:</strong> "${prefilledProperty['ูุณุงุญุฉุงูุตู']}"</div>
                        <div class="info-item"><strong>ุงูุณุฌู ุงูุนููู:</strong> "${prefilledProperty['ุงูุณุฌู ุงูุนููู ']}"</div>
                        <div class="info-item"><strong>ุงููุงูู:</strong> "${prefilledProperty['ุงููุงูู']}"</div>
                        <div class="info-item"><strong>ูููุน ุงูุนูุงุฑ:</strong> "${prefilledProperty['ูููุน ุงูุนูุงุฑ']}"</div>
                        <button onclick="testEditProperty('ูุณุชูุฏุนุงุช ุงูุณุนูุฏ')" style="margin-top: 10px; background: #dc3545;">
                            ุชุญุฑูุฑ ูุฐุง ุงูุนูุงุฑ
                        </button>
                    </div>
                </div>
            `;
        }

        function testEditProperty(propertyName) {
            addResult('info', '๐ ูุชุญ ูุงูุฐุฉ ุงูุชุญุฑูุฑ...', `
                ุฌุงุฑู ูุชุญ ูุงูุฐุฉ ุชุญุฑูุฑ ุงูุนูุงุฑ: ${propertyName}<br>
                ุฑุงูุจ ุณุฌู ูุญุฏุฉ ุงูุชุญูู ุฃุฏูุงู ููุชุงุจุนุฉ ุนูููุฉ ุงูุญูุธ
            `);
            
            try {
                const property = window.properties?.find(p => p['ุงุณู ุงูุนูุงุฑ'] === propertyName);
                
                if (property && typeof showCardEditModal === 'function') {
                    showCardEditModal(property['ุฑูู ุงูุนูุฏ'] || '', propertyName, property['ุฑูู  ุงููุญุฏุฉ '] || '');
                    
                    addResult('success', 'โ ุชู ูุชุญ ูุงูุฐุฉ ุงูุชุญุฑูุฑ', `
                        ุชุญูู ูู ุงููุงูุฐุฉ ุงูููุชูุญุฉ:<br>
                        โข ุงุจุญุซ ุนู ูุณู "ูุนูููุงุช ุงูุนูุงุฑ ูุงูุตู"<br>
                        โข ุฌุฑุจ ุชุบููุฑ ูุณุงุญุฉ ุงูุตู<br>
                        โข ุงุญูุธ ูุฑุงูุจ ุงูุณุฌู ุฃุฏูุงู<br>
                        โข ุชุญูู ูู ุญูุธ ุงูุชุบููุฑุงุช ุจุฅุนุงุฏุฉ ูุชุญ ุงููุงูุฐุฉ
                    `);
                } else {
                    addResult('error', 'โ ุฎุทุฃ', 'ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุนูุงุฑ ุฃู ุฏุงูุฉ ุงูุชุญุฑูุฑ');
                }
            } catch (error) {
                addResult('error', 'โ ุฎุทุฃ ูู ูุชุญ ูุงูุฐุฉ ุงูุชุญุฑูุฑ', `ุฎุทุฃ: ${error.message}`);
            }
        }

        function testDeedSaveIssue() {
            addResult('warning', '๐ ุงุฎุชุจุงุฑ ุชุดุฎูุตู...', 'ุฌุงุฑู ูุญุต ูุดููุฉ ุญูุธ ูุนูููุงุช ุงูุตู');

            if (!window.properties || window.properties.length === 0) {
                addResult('error', 'โ ูุง ุชูุฌุฏ ุจูุงูุงุช', 'ุงุถุบุท "ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ" ุฃููุงู');
                return;
            }

            const prefilledProperty = window.properties.find(p => p['ุงุณู ุงูุนูุงุฑ'] === 'ูุณุชูุฏุนุงุช ุงูุณุนูุฏ');

            if (!prefilledProperty) {
                addResult('error', 'โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุนูุงุฑ', 'ุงุถุบุท "ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ" ุฃููุงู');
                return;
            }

            addResult('info', '๐ ุชุญููู ุงูุนูุงุฑ ุงููุชุฃุซุฑ', `
                <strong>ุงุณู ุงูุนูุงุฑ:</strong> ${prefilledProperty['ุงุณู ุงูุนูุงุฑ']}<br>
                <strong>ุฑูู ุงูุตู ุงูุญุงูู:</strong> "${prefilledProperty['ุฑูู ุงูุตู']}"<br>
                <strong>ูุณุงุญุฉ ุงูุตู ุงูุญุงููุฉ:</strong> "${prefilledProperty['ูุณุงุญุฉุงูุตู']}"<br>
                <strong>ุงููุงูู ุงูุญุงูู:</strong> "${prefilledProperty['ุงููุงูู']}"<br><br>
                <strong>ุงูุชุดุฎูุต:</strong> ูุฐุง ุงูุนูุงุฑ ูุญุชูู ุนูู ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ูุณุจูุฉ<br>
                <strong>ุงููุดููุฉ ุงููุชููุนุฉ:</strong> ุนุฏู ุญูุธ ุงูุชุบููุฑุงุช ุนูุฏ ุงูุชุญุฑูุฑ
            `);

            addResult('warning', '๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ', `
                1. ุงุถุบุท "ุชุญุฑูุฑ ูุฐุง ุงูุนูุงุฑ" ููุนูุงุฑ ุงูุฃุญูุฑ ุฃุนูุงู<br>
                2. ุบููุฑ ูุณุงุญุฉ ุงูุตู ูู 2000 ุฅูู 2500<br>
                3. ุงุญูุธ ุงูุชุบููุฑุงุช<br>
                4. ุฑุงูุจ ุงูุณุฌู ุฃุฏูุงู ููุชุญูู ูู ุงููุนุงูุฌุฉ<br>
                5. ุฃุนุฏ ูุชุญ ูุงูุฐุฉ ุงูุชุญุฑูุฑ ููุชุญูู ูู ุงูุญูุธ
            `);
        }

        function testReplacementLogic() {
            addResult('info', '๐ ุงุฎุชุจุงุฑ ููุทู ุงูุงุณุชุจุฏุงู...', 'ุฌุงุฑู ุงุฎุชุจุงุฑ ุฃู ุงูููู ุงูุฌุฏูุฏุฉ ุชุณุชุจุฏู ุงููุฏููุฉ');

            if (!window.properties || window.properties.length === 0) {
                addResult('error', 'โ ูุง ุชูุฌุฏ ุจูุงูุงุช', 'ุงุถุบุท "ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ" ุฃููุงู');
                return;
            }

            const testProperty = window.properties.find(p => p['ุงุณู ุงูุนูุงุฑ'] === 'ูุณุชูุฏุนุงุช ุงูุณุนูุฏ');

            if (!testProperty) {
                addResult('error', 'โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุนูุงุฑ', 'ุงุถุบุท "ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ" ุฃููุงู');
                return;
            }

            addResult('success', 'โ ุชู ุงูุนุซูุฑ ุนูู ุงูุนูุงุฑ ููุงุฎุชุจุงุฑ', `
                <strong>ุงูุญุงูุฉ ุงูุญุงููุฉ:</strong><br>
                โข ุฑูู ุงูุตู: "${testProperty['ุฑูู ุงูุตู']}"<br>
                โข ูุณุงุญุฉ ุงูุตู: "${testProperty['ูุณุงุญุฉุงูุตู']}"<br>
                โข ุงููุงูู: "${testProperty['ุงููุงูู']}"<br><br>
                <strong>ุงูุณููู ุงููุทููุจ:</strong><br>
                ุนูุฏ ุชุญุฑูุฑ ุฃู ูู ูุฐู ุงููููุ ูุฌุจ ุฃู ุชูุณุชุจุฏู ุงููููุฉ ุงููุฏููุฉ ุจุงููููุฉ ุงูุฌุฏูุฏุฉ<br>
                ุญุชู ูู ูุงูุช ุงููููุฉ ุงูุฌุฏูุฏุฉ ูุงุฑุบุฉ
            `);

            addResult('info', '๐ฏ ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ', `
                <strong>ูุงุฎุชุจุงุฑ ููุทู ุงูุงุณุชุจุฏุงู:</strong><br>
                1. ุงุถุบุท "ุชุญุฑูุฑ ูุฐุง ุงูุนูุงุฑ" ุฃุนูุงู<br>
                2. ุฌุฑุจ ุชุบููุฑ ูุณุงุญุฉ ุงูุตู ุฅูู ูููุฉ ุฌุฏูุฏุฉ (ูุซู 1800)<br>
                3. ุฃู ุฌุฑุจ ูุณุญ ุฑูู ุงูุตู (ุชุฑู ุงูุญูู ูุงุฑุบุงู)<br>
                4. ุงุญูุธ ุงูุชุบููุฑุงุช<br>
                5. ุฃุนุฏ ูุชุญ ุงููุงูุฐุฉ ููุชุญูู ูู ุฃู ุงููููุฉ ุงูุฌุฏูุฏุฉ ุญููุธุช<br><br>
                <strong>ุงููุชูุฌุฉ ุงููุชููุนุฉ:</strong><br>
                โข ุฅุฐุง ุบููุฑุช ุงููููุฉ โ ูุฌุจ ุญูุธ ุงููููุฉ ุงูุฌุฏูุฏุฉ<br>
                โข ุฅุฐุง ูุณุญุช ุงููููุฉ โ ูุฌุจ ุญูุธ ุงููููุฉ ุงููุงุฑุบุฉ (ุงุณุชุจุฏุงู ุงููุฏูู ุจูุงุฑุบ)
            `);
        }

        // ุชุดุบูู ุชููุงุฆู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        window.addEventListener('load', () => {
            interceptConsole();
            
            addResult('success', '๐ ุฌุงูุฒ ููุงุฎุชุจุงุฑ', `
                ุชู ุชุญููู ุฌููุน ุงููููุงุช ุงููุทููุจุฉ<br>
                ุชู ุชูุนูู ูุฑุงูุจุฉ ุณุฌู ูุญุฏุฉ ุงูุชุญูู<br>
                ุงุถุบุท "ุฅูุดุงุก ุนูุงุฑุงุช ุงุฎุชุจุงุฑ" ููุจุฏุก
            `);
            
            // ุฅูุดุงุก ุนูุงุฑุงุช ุชุฌุฑูุจูุฉ ุชููุงุฆูุงู
            setTimeout(() => {
                if (!window.properties || window.properties.length === 0) {
                    createTestProperties();
                } else {
                    displayPropertiesComparison();
                }
            }, 1000);
        });
    </script>
</body>
</html>
